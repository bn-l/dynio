{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$ref": "#/definitions/CmdConfig",
  "definitions": {
    "CmdConfig": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/CmdConfigItem"
      }
    },
    "CmdConfigItem": {
      "type": "object",
      "properties": {
        "command": {
          "type": "string",
          "description": "Absolute path to cmd or the name of a command that can run in the default shell.",
          "examples": [
            "C:\\Some Path\\To Some\\program.exe",
            "/somepath/tosome/program"
          ]
        },
        "description": {
          "type": "string",
          "description": "Short description of what the program does"
        },
        "arguments": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Arguments for the cmd",
          "examples": [
            [
              "-n",
              100
            ]
          ]
        },
        "currentDir": {
          "type": "string",
          "description": "Current directory for the command."
        },
        "outputOptions": {
          "$ref": "#/definitions/OutputOptions"
        },
        "activationOptions": {
          "$ref": "#/definitions/ActivationOptions"
        },
        "hotkeyNumber": {
          "type": "number",
          "description": "From 0-9, pressing alt+shift+hotkeyNumber will set the cmd as active."
        }
      },
      "required": [
        "command"
      ],
      "additionalProperties": false
    },
    "OutputOptions": {
      "type": "object",
      "properties": {
        "parseAnsiColors": {
          "type": "boolean",
          "description": "Whether to parse ansii colors (nb: color might not be accurate)",
          "default": true
        },
        "reverse": {
          "type": "boolean",
          "description": "Whether to reverse the output",
          "default": false
        },
        "display": {
          "$ref": "#/definitions/Display",
          "description": "Display type",
          "default": {
            "type": "list"
          }
        },
        "emptyDisplayOptions": {
          "$ref": "#/definitions/EmptyDisplayOptions"
        }
      },
      "additionalProperties": false
    },
    "Display": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "list"
            },
            "options": {
              "$ref": "#/definitions/ListDisplayOptions"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "single"
            },
            "options": {
              "$ref": "#/definitions/SingleDisplayOptions"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": false
        }
      ]
    },
    "ListDisplayOptions": {
      "type": "object",
      "properties": {
        "maxLineLength": {
          "type": "number",
          "description": "Displays only this many characters plus per item.",
          "default": 160
        },
        "lineSplitter": {
          "type": "string",
          "description": "Character(s) to split the output into lines.  Defaults to newlines.",
          "default": "\n"
        },
        "lineSplitterRegex": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Regular expression to split the output into lines as an array where the first item is the regex body and the second is the flags."
        }
      },
      "additionalProperties": false
    },
    "SingleDisplayOptions": {
      "type": "object",
      "properties": {
        "sizeBreakPoint": {
          "type": "number",
          "description": "Outputs under this size are shown using large size; over using small.",
          "default": 25
        },
        "largeSize": {
          "type": "string",
          "description": "Output string length < sizeBreakPoint. Any valid tailwind font size.",
          "default": "text-4xl"
        },
        "smallSize": {
          "type": "string",
          "description": "Output string length > sizeBreakPoint. Any valid tailwind font size.",
          "default": "text-xl"
        }
      },
      "additionalProperties": false
    },
    "EmptyDisplayOptions": {
      "type": "object",
      "additionalProperties": false
    },
    "ActivationOptions": {
      "type": "object",
      "properties": {
        "activateAction": {
          "type": "string",
          "enum": [
            "copy",
            "open"
          ],
          "description": "Enter / double click action for an output. Useful for opening or copying some text  to the clipboard. By default is undefined and does nothing. If:\n- no extractor: Will copy / open entire line.\n- extrator: Will copy / open match.\n- extractor + extractorGroup: Will copy / open specific match group."
        },
        "extractorRegexBody": {
          "type": "string",
          "description": "Regex to extract text from each split line for use in the enterAction in this config. Don't pre/post-fix with /."
        },
        "extractorFlags": {
          "type": "string",
          "description": "Regex flags to extract text from each split line for use in the enterAction in this config. Must have set extractorRegex. Don't pre/post-fix with /.",
          "examples": [
            "gi"
          ]
        },
        "extractorGroup": {
          "type": "number",
          "description": "Regex group to extract text from each split line for use in the enterAction in this config. Must have set extractorRegex. Don't pre/post-fix with /."
        }
      },
      "additionalProperties": false
    }
  }
}